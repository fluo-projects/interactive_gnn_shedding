dpi: 100
figsize: [8,6]
iter: 1000
fps: 30

save_dir: anim # save directory of animations
save_name: animation
# save_name: rotating_plate_anim

# contour_shader: flat # flat shading for actual values
contour_shading: gouraud # gouraud shading for smoother colors between mesh
wall_plot_size: 4 # size of scatter points for field animations
scatter_size: 8 # size of scatter points for graph animations
line_width: 0.5 # size of edges for graph animations
plot_graph: False # plots graph animation

field_min: [0, -0.35, -0.4] # specify min for u1, u2, p (if None, autoscaled)
field_max: [2.0, 0.35, 0.8] # specify max for u1, u2, p (if None, autoscaled)


custom: True
custom_parameters:
  # how many iterations between states
  fm_mesh_iterations: 10 # Sets how many times flow matching mesh solution is run
  # initial mesh assumed uniform, noise is added then flow match model denoises it. 
  # More iterations allow convergence of distribution around body of interest (internal wall)

  external_walls: 
    pos: [-0.2,0.2] # upper and lower wall
    npoints: 50 # number of nodes used for external walls
  inlet: 
    pos: -0.2 # inlet position, must be less than outlet position
    npoints: 13 # number of nodes used for inlets
  outlet: 
    pos: 1.3 # outlet position
    npoints: 13 # number of nodes used for outlets


  iter_list: [500,50,50,50,50,50,50,50,50] # Sets the amount of time transitioning between mesh states
  internal_walls:
    # Dynamic mesh animation
    npoints: 32 # number of nodes used for internal walls
    points: [
      [
        [0.25, 0.0],
        [0.2353553390593274, 0.035355339059327376],
        [0.2, 0.05],
        [0.16464466094067263, 0.03535533905932738],
        [0.15, 0.0],
        [0.16464466094067263, -0.035355339059327376],
        [0.19999999999999998, -0.05],
        [0.23535533905932738, -0.03535533905932738]
      ], # 500
      [
        [0.25, 0.0],
        [0.2353553390593274, 0.035355339059327376],
        [0.2, 0.05],
        [0.16464466094067263, 0.03535533905932738],
        [0.15, 0.0],
        [0.16464466094067263, -0.035355339059327376],
        [0.19999999999999998, -0.05],
        [0.23535533905932738, -0.03535533905932738]
      ], # 50
      [
        [0.155,-0.045],
        [0.245,-0.045],
        [0.245,0.045],
        [0.155,0.045]
      ], # 50
      [
        [0.155,0.0025],
        [0.245,0.0025],
        [0.245,0.0925],
        [0.155,0.0925]
      ], # 50
      [
        [0.155,0.050],
        [0.245,0.050],
        [0.245,0.140],
        [0.155,0.140]
      ], # 50
      [
        [0.155,0.0025],
        [0.245,0.0025],
        [0.245,0.0925],
        [0.155,0.0925]
      ], # 50
      [
        [0.155,-0.045],
        [0.245,-0.045],
        [0.245,0.045],
        [0.155,0.045]
      ],
      [
        [0.155,-0.0925],
        [0.245,-0.0925],
        [0.245,-0.0025],
        [0.155,-0.0025]
      ],
      [
        [0.155,-0.140],
        [0.245,-0.140],
        [0.245,-0.050],
        [0.155,-0.050]
      ],
    ]

    # # Rotating plate
    # points: [
    #   [[0.275, -0.01], [0.525, -0.01], [0.525, 0.01], [0.275, 0.01]],
    #   [[0.275, -0.01], [0.525, -0.01], [0.525, 0.01], [0.275, 0.01]],
    #   [[0.2917177289033732, -0.06324515606871896], [0.516959945878978, 0.04522577871067057], [0.5082822710966268, 0.06324515606871896], [0.28304005412102207, -0.04522577871067057]],
    #   [[0.3298820895923386, -0.10396383332709107], [0.485754540057022, 0.09149403728991638], [0.47011791040766143, 0.10396383332709107], [0.31424545994297803, -0.09149403728991638]],
    #   [[0.38193416237727895, -0.1240911983622911], [0.43756439586635754, 0.1196407796831648], [0.4180658376227211, 0.1240911983622911], [0.3624356041336425, -0.1196407796831648]],
    #   [[0.43756439586635754, -0.1196407796831648], [0.38193416237727895, 0.1240911983622911], [0.3624356041336425, 0.1196407796831648], [0.4180658376227211, -0.1240911983622911]],
    #   [[0.485754540057022, -0.09149403728991641], [0.32988208959233867, 0.10396383332709107], [0.31424545994297803, 0.09149403728991641], [0.4701179104076614, -0.10396383332709107]],
    #   [[0.516959945878978, -0.045225778710670586], [0.2917177289033732, 0.06324515606871897], [0.28304005412102207, 0.045225778710670586], [0.5082822710966268, -0.06324515606871897]],
    #   [[0.525, 0.009999999999999985], [0.275, 0.010000000000000016], [0.275, -0.009999999999999985], [0.525, -0.010000000000000016]]
    # ]

    # # Static mesh animation
    # points: [
    #     [0.25, 0.0],
    #     [0.2353553390593274, 0.035355339059327376],
    #     [0.2, 0.05],
    #     [0.16464466094067263, 0.03535533905932738],
    #     [0.15, 0.0],
    #     [0.16464466094067263, -0.035355339059327376],
    #     [0.19999999999999998, -0.05],
    #     [0.23535533905932738, -0.03535533905932738]
    # ]

  ninternal_points: 1000